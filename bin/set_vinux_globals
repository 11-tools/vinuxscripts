#!/bin/bash
#
# run by typing: 'sudo set_vinux_globals'.
#

# Stage 0 - Declare text colour/system bell functions

function black {
    tput setf 0   
}

function green {
    tput setf 2    
}

function blue {
    tput setf 3
}

function red {
    tput setf 4    
}

function white {
    tput setf 7
}

function reset {
    tput reset
}

function bell {
    echo -en "\007"    
}

 # Copy user files to /etc/skel
    rsync -r /usr/share/vinux/skel/ /etc/skel

echo
bell
echo

chmod -R a+r /etc/skel

echo
bell
red
echo -n "Enter your username: "; read USER
green
echo

# Copy files from /etc/skel to user directory

rsync -r /etc/skel/ /home/$USER
rsync -r /usr/share/vinux/EasyInstall_skel/ /home/$USER
chown -Rf $USER:$USER /home/$USER
cp /etc/skel/.bash_aliases_vinux /root

# prevent ubuntu boot splash being shown

sed -i 's/GRUB_CMDLINE_LINUX_DEFAULT="quiet splash"/GRUB_CMDLINE_LINUX_DEFAULT=""/' /etc/default/grub
update-grub

